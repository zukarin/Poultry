;/*FB_PKG_DELIM*/

__d("CometNotificationSound",["Sound"],(function(a,b,c,d,e,f,g){"use strict";var h=5e3;d("Sound").init(["audio/mpeg"]);a=function(){function a(a){this.$2=0,this.$1=a}var b=a.prototype;b.play=function(a){var b=Date.now();if(b-this.$2<h||this.$1==null)return;this.$2=b;d("Sound").playOnlyIfImmediate(this.$1,a,!1)};return a}();g["default"]=a}),98);
__d("CometToastNotification_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometToastNotification_actor",selections:[{args:null,kind:"FragmentSpread",name:"CometNotificationsListItem_actor"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Actor",abstractKey:"__isActor"};e.exports=a}),null);
__d("CometToastNotification_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometToastNotification_notification",selections:[{args:[{kind:"Literal",name:"isToast",value:!0}],kind:"FragmentSpread",name:"CometNotificationsListItem_notification"},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null}],type:"Notification",abstractKey:null};e.exports=a}),null);
__d("useHandleUpdateSingleNotifSeenState",["CometNotificationsMutationLogger","CometNotificationsUpdateSeenStateMutation","react-compiler-runtime","recoverableViolation","useGetCancellableSeenStateCallback"],(function(a,b,c,d,e,f,g){"use strict";var h="MAIN_SURFACE";function i(a){var b=a.environment,e=a.notifId,f=a.seenState;a=a.source;if(e==null||f!=="UNSEEN_AND_UNREAD")return;d("CometNotificationsUpdateSeenStateMutation").CometNotificationsUpdateSeenStateMutation(b,{environment:h,input:{environment:h,is_comet:!0,last_notif_sync_time:0,notif_ids:[e],source:(f=a)!=null?f:"unknown",update_type:"MARK_SEEN"}},{mutationLogger:d("CometNotificationsMutationLogger").notificationMarkAsSeenStart,onError:function(a){c("recoverableViolation")("Update seen state (single) mutation failed with an error: ","Notifications",{error:a})},updater:function(a){d("CometNotificationsUpdateSeenStateMutation").updateSingleNotifSeenState(a,e),d("CometNotificationsUpdateSeenStateMutation").lowerBadgeCountByOne(a)}})}function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=babelHelpers["extends"]({},a,{updater:i}),b[0]=a,b[1]=e):e=b[1];return c("useGetCancellableSeenStateCallback")(e)}g["default"]=a}),98);
__d("CometToastNotification.react",["fbt","CometNotificationsListItem.react","CometRelay","CometToastCard.react","CometToastNotification_actor.graphql","CometToastNotification_notification.graphql","react","react-compiler-runtime","recoverableViolation","requireDeferred","useHandleUpdateSingleNotifSeenState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m=c("requireDeferred")("NotifBeeperDismissFalcoEvent").__setRef("CometToastNotification.react"),n="comet_toast",o="beeper";function a(a){var e=d("react-compiler-runtime").c(22),f=d("CometRelay").useRelayEnvironment(),g=d("CometRelay").useFragment(i!==void 0?i:i=b("CometToastNotification_actor.graphql"),a.actor),k=d("CometRelay").useFragment(j!==void 0?j:j=b("CometToastNotification_notification.graphql"),a.notification),p=k==null?void 0:k.id,q=k==null?void 0:k.seen_state,r;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._(/*BTDS*/"__JHASH__9NjyGJ8VNvp__JHASH__"),e[0]=r):r=e[0];e[1]!==f||e[2]!==p||e[3]!==q?(r={accessibilityString:r,environment:f,notifId:p,seenState:q,source:n,timestamp:null,updateType:"MARK_SEEN"},e[1]=f,e[2]=p,e[3]=q,e[4]=r):r=e[4];f=c("useHandleUpdateSingleNotifSeenState")(r);if(k==null){c("recoverableViolation")("Comet Toast should have non-null notification","Notifications");return null}var s=a.onCloseClick;e[5]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._(/*BTDS*/"__JHASH__tXZ99ZeyFDZ__JHASH__"),e[5]=p):p=e[5];q=p;var t=g==null?void 0:g.id,u=k.notif_id;a=(r=k.body)==null?void 0:r.text;e[6]!==u||e[7]!==a?(p=u==null||a==null?null:{id:u,text:a},e[6]=u,e[7]=a,e[8]=p):p=e[8];r=p;e[9]!==g||e[10]!==k||e[11]!==s?(a=l.jsx("div",{role:"grid",children:l.jsx(c("CometNotificationsListItem.react"),{actor:g,loggerContext:o,notification:k,onClick:s})}),e[9]=g,e[10]=k,e[11]=s,e[12]=a):a=e[12];e[13]!==t||e[14]!==u||e[15]!==s?(p=function(){s(),u!=null&&t!=null&&m.onReady(function(a){a=a.log;return a(function(){return{notification_data:{alert_id:u,logger_context:o,user_id:t},ref:"www_tab"}})})},e[13]=t,e[14]=u,e[15]=s,e[16]=p):p=e[16];e[17]!==r||e[18]!==f||e[19]!==a||e[20]!==p?(g=l.jsx(c("CometToastCard.react"),{accessibilityAnnouncement:r,content:a,headline:q,onCloseClick:p,onMouseEnter:f}),e[17]=r,e[18]=f,e[19]=a,e[20]=p,e[21]=g):g=e[21];return g}g["default"]=a}),226);