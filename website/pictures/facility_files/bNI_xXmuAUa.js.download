;/*FB_PKG_DELIM*/

__d("AudioContextSingleton",["FBLogger"],(function(a,b,c,d,e,f,g){var h=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,i=new Map();a={get:function(a){a=a==null?void 0:a.sampleRate;var b=i.get(a);if(b==null){var d=new h({sampleRate:a});i.set(a,d);return d}if(b.state==="closed"){c("FBLogger")("project").warn("AudioContext Singleton has been closed");d=new h({sampleRate:a});i.set(a,d);return d}return b}};b=a;g["default"]=b}),98);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9165468880183931"}),null);
__d("LSFetchBanners",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"in_thread_banner_fetch_activity_banners_queue",c.i64.cast([0,72]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSInThreadBannerFetchBannersStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LsDidTapCallToActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743852");b=d("FalcoLoggerInternal").create("ls_did_tap_call_to_action",a);e=b;g["default"]=e}),98);
__d("MAWFetchSecureMessages",["I64","LSMEBTaskCreationSource","MAWBridgeSendAndReceive","MAWDbMsg","MAWMiActOnActThreadReady","ReQL","WATagsLogger","asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["MAWFetchSecureMessages: threadJid: "," minMsgSortOrderTsResponse ",""]);i=function(){return a};return a}var j=c("requireDeferred")("MWRestoreMessagesFromEB").__setRef("MAWFetchSecureMessages"),k=10;function a(a,b,c,d,e,f,g){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,l,m){l===void 0&&(l=k);var n=m.addQPLAnnotations,o=m.markQPLFailure,p=m.markQPLPoint,q=m.markQPLStart;m=m.markQPLSuccess;var r=q();n(r,{string:{threadType:(h||(h=d("I64"))).to_string(f)}});function s(a){p(r,"load_more_msgs_success","successfully loaded messages from worker"),n(r,a)}p(r,"before_start_load_more_msgs","before fetching messages range from table");n(r,{string:babelHelpers["extends"]({direction:g,thread_id:h.to_string(e)},f!=null?{thread_type:(h||(h=d("I64"))).to_string(f)}:{})});q=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.messages_ranges_v2__generated).getKeyRange(e)));try{if(q!=null&&!q.isLoadingBefore&&g==="before"){p(r,"start_load_more_msgs","starting the load more QPL event");f=(yield d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,e,"MAWFetchMoreMessages"));var t=f.chatJid;p(r,"put_message_range","put txn in messages_ranges_v2__generated table");yield b.messages_ranges_v2__generated.put({hasMoreAfter:q.hasMoreAfter,hasMoreBefore:q.hasMoreBefore,isLoadingAfter:q.isLoadingAfter,isLoadingBefore:!0,maxMessageId:q.maxMessageId,maxTimestampMs:q.maxTimestampMs,minMessageId:q.minMessageId,minTimestampMs:q.minTimestampMs,threadKey:q.threadKey});p(r,"send_loadMoreMsgs_to_backend","calling backend with loadMoreMsgs");e=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMoreMsgs",{chatJid:t,direction:g,numMsgs:l,offsetMsgId:d("MAWDbMsg").toMsgId(q.minMessageId)}));s({bool:{hasMoreBefore:e.hasMoreBefore}});if(e.hasMoreBefore){m(r);return}var u=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMaybeNextNonAdminMsgSortOrderMs",{chatJid:t,mayBeAdminMsgId:d("MAWDbMsg").toMsgId(q.minMessageId)}));d("WATagsLogger").TAGS(["labyrinth_web","MAWFetchSecureMessages"]).LOG(i(),t,u.minMsgTimestampMs);p(r,"issued_range_query","MAWFetchSecureMessages: minMsgSortOrderTsResponse "+u.minMsgTimestampMs);m(r);j.onReady(function(b){b({chatJid:t,newerNumMessages:(h||(h=d("I64"))).zero,numMessages:h.of_int32(l),sortOrderMs:h.of_float(u.minMsgTimestampMs),source:c("LSMEBTaskCreationSource").MESSENGER_MESSAGE_LIST_PAGINATION,storage:a})})}n(r,{bool:{isLoadingAfter:q==null?void 0:q.isLoadingAfter,isLoadingBefore:q==null?void 0:q.isLoadingBefore}});p(r,"already_loading_messages","end the load more QPL event.");m(r)}catch(a){o(r,a)}});return l.apply(this,arguments)}g["default"]=a}),98);
__d("useMAWQPLLogger",["MAWQPLLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){return i(function(){return c("MAWQPLLogger")(a)},[a])}g.useMAWQPLLogger=a}),98);
__d("MAWFetchMoreMessages",["Int64Hooks","MAWFetchSecureMessages","MAWSecureLocalDBDataSource","qpl","react-compiler-runtime","useMAWQPLLogger","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=[],a[0]=b):b=a[0];return d("Int64Hooks").useMemoInt64(i,b)}function i(){return new(c("MAWSecureLocalDBDataSource"))()}function b(a){var b=d("react-compiler-runtime").c(6),e=(h||(h=c("useReStore")))(),f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("qpl")._(25303796,"1974"),b[0]=f):f=b[0];var g=d("useMAWQPLLogger").useMAWQPLLogger(f),i;b[1]!==e||b[2]!==g||b[3]!==a?(f=function(b,d,f,h){return c("MAWFetchSecureMessages")(e,b,d,a,f,h,g)},i=[e,g,a],b[1]=e,b[2]=g,b[3]=a,b[4]=f,b[5]=i):(f=b[4],i=b[5]);return d("Int64Hooks").useCallbackInt64(f,i)}g.useSecureDataStorage=a;g.useFetchSecureMessages=b}),98);
__d("MWPFetchMessagesThreadLocks",["FBLogger","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=(h||(h=d("I64"))).to_string(b);return{lock:{after:function(){var b=f();b.after===!0&&c("FBLogger")("messenger_web_product").mustfix("Locking threadLockStatus twice");b.after=!0;a.set(e,b)},before:function(){var b=f();b.before===!0&&c("FBLogger")("messenger_web_product").mustfix("Locking threadLockStatus twice");b.before=!0;a.set(e,b)}},release:{after:function(){var b=f();b.after=!1;a.set(e,b)},before:function(){var b=f();b.before=!1;a.set(e,b)}},state:f()};function f(){var b=a.get(e);b==null&&(b={after:!1,before:!1},a.set(e,b));return b}}g.localThreadStatus=a}),98);
__d("MWPFetchMessagesPageV2",["FBLogger","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSMessagingThreadTypeUtil","MWPFetchMessagesThreadLocks","asyncToGeneratorRuntime","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,d,e,f,g,h,j){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,i,j,k){var m,o;m=(yield (m=a.tables.messages_ranges_v2__generated).get.apply(m,f));if(m==null)return;o=h&&(yield (o=a.tables.messages_ranges_v2__generated).get.apply(o,h));if(o==null&&h!=null)return;h=d("LSMessagingThreadTypeUtil").isArmadilloSecure(g);var p=i!=null?d("LSMessagingThreadTypeUtil").isArmadilloSecure(i):!1;if(e==="before")if(m.hasMoreBefore)if(h)return l(a,b,e,m,j,g,k);else return n(a,f,m.threadKey,e);else if(o!=null)if(p)return l(a,b,e,o,j,g,k);else return n(a,[o.threadKey,o.minTimestampMs,o.minMessageId],o.threadKey,e);else return;else{e;if(m.hasMoreAfter)if(h)throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return n(a,f,m.threadKey,e);else if(o!=null){p=d("LSMessagingThreadTypeUtil").isArmadilloSecure(c("nullthrows")(i));if(p)throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return n(a,[o.threadKey,o.minTimestampMs,o.minMessageId],o.threadKey,e)}else return}});return i.apply(this,arguments)}var j=new Map(),k=new Map();function l(a,b,c,d,e,f,g){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f,g,h){var i=d("MWPFetchMessagesThreadLocks").localThreadStatus(j,e.threadKey);if(i.state[c])return;try{i.lock[c]();var k=(yield a.tables.messages.index("messageId").get(e.minMessageId));return yield f.fetchSecureMessagesProtocol(a,e.threadKey,g,k==null?void 0:k.primarySortKey,e,c,b,"user",h)}finally{i.release[c]()}});return m.apply(this,arguments)}function n(a,b,c,d){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g,i){g=d("MWPFetchMessagesThreadLocks").localThreadStatus(k,g);if(g.state[i])return;try{g.lock[i]();return yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(yield (b=a.messages_ranges_v2__generated).get.apply(b,e));if(!b)return;if(b.isLoadingBefore&&i==="before")return;if(b.isLoadingAfter&&i==="after")return;return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(h||(h=d("LSIntEnum"))).ofNumber(i==="before"?c("LSMailboxMessagesRangeQueryDirection").BEFORE:c("LSMailboxMessagesRangeQueryDirection").AFTER),referenceTimestampMs:b.minTimestampMs,threadKey:b.threadKey})});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":209")}finally{g.release[i]()}});return o.apply(this,arguments)}g["default"]=a}),98);
__d("MAWPreloadSecureMessages",["I64","LSIntEnum","MAWSecureLocalDBDataSource","MWPFetchMessagesPageV2","Promise","ReQL","asyncToGeneratorRuntime","justknobx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new(c("MAWSecureLocalDBDataSource"))();function a(a,b,c,d,e,f){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,l,m){var n=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.messages_ranges_v2__generated).getKeyRange(e)));e=n!=null?[e,n==null?void 0:n.minTimestampMs,n==null?void 0:n.minMessageId]:null;n=g!=null?yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.messages_ranges_v2__generated).getKeyRange(g)):null;g=n!=null?[n==null?void 0:n.threadKey,n==null?void 0:n.minTimestampMs,n==null?void 0:n.minMessageId]:null;n=(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(15))?(j||(j=d("LSIntEnum"))).ofNumber(1):(j||(j=d("LSIntEnum"))).ofNumber(2);m=c("qex")._("365")===!0?m:c("justknobx")._("2575");return e!=null?c("MWPFetchMessagesPageV2")(a,m,"before",e,f,g,n,k,l):(h||(h=b("Promise"))).resolve()});return l.apply(this,arguments)}g.preloadSecureMessages=a}),98);
__d("MDSLockSvgIcon.react",["MDSSvgIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{clipRule:"evenodd",d:"M12.25 15.5a.25.25 0 00.25-.25V12a5.5 5.5 0 1111 0v3.25c0 .138.112.25.25.25h.75a2 2 0 012 2v9a2 2 0 01-2 2h-13a2 2 0 01-2-2v-9a2 2 0 012-2h.75zm3 0h5.5a.25.25 0 00.25-.25V12a3 3 0 10-6 0v3.25c0 .138.112.25.25.25z",fillRule:"evenodd"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:e})),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("MWInChatTabContextProvider.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=e(!1);function a(){return j(k)}function b(a){var b=d("react-compiler-runtime").c(2);a=a.children;var c;b[0]!==a?(c=i.jsx(k.Provider,{value:!0,children:a}),b[0]=a,b[1]=c):c=b[1];return c}g.useInChatTab=a;g.InChatTabContextProvider=b}),98);
__d("MarketplaceCometReviewOffersDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="26215706471376969"}),null);
__d("MarketplaceCometReviewOffersDialogQuery$Parameters",["MarketplaceCometReviewOffersDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MarketplaceCometReviewOffersDialogQuery_facebookRelayOperation"),metadata:{},name:"MarketplaceCometReviewOffersDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MarketplaceCometReviewOffersDialog.entrypoint",["JSResourceForInteraction","MarketplaceCometReviewOffersDialogQuery$Parameters","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.listingId;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("MarketplaceCometReviewOffersDialogQuery$Parameters"),variables:{listingId:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("MarketplaceCometReviewOffersDialog.react").__setRef("MarketplaceCometReviewOffersDialog.entrypoint")};g["default"]=a}),98);
__d("Popup",["isTruthy"],(function(a,b,c,d,e,f,g){function a(a,b,d,e){var f=[];c("isTruthy")(b)&&f.push("width="+b);c("isTruthy")(d)&&f.push("height="+d);var g=document.body;if(g!=null&&b!=null&&b!==0&&d!=null&&d!==0){var h="screenX"in window?window.screenX:window.screenLeft,i="screenY"in window?window.screenY:window.screenTop,j="outerWidth"in window?window.outerWidth:g.clientWidth;g="outerHeight"in window?window.outerHeight:g.clientHeight-22;h=Math.floor(h+(j-b)/2);j=Math.floor(i+(g-d)/2.5);f.push("left="+h);f.push("top="+j)}f.push("scrollbars");return window.open(a,e!=null&&e!==""?e:"_blank",f.join(","))}g.open=a}),98);
__d("WebGraphQLLegacyHelper",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=a.controller,c=a.docID,d=a.queryID,e=a.variables;a=a.legacyResponseFormat;c!=d&&(c||d)!=null||h(0,5819,c,d);b=b.getURIBuilder();d?b.setFBID("query_id",d):b.setFBID("doc_id",c);a&&b.setBool("legacy_response_format",!0);e&&b.setString("variables",JSON.stringify(e));return b.getURI()}g.getURI=a}),98);
__d("XCometGroupAdminActivitiesControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/groups/{idorvanity}/admin_activities/",Object.freeze({with_note:!1,automatic_action:!1}),void 0);b=a;g["default"]=b}),98);
__d("flattenArray",[],(function(a,b,c,d,e,f){function a(a){var b=[];g(a,b);return b}function g(a,b){var c=a.length,d=0;while(c--){var e=a[d++];Array.isArray(e)?g(e,b):b.push(e)}}f["default"]=a}),66);
__d("useMWCMPollsV2Enabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,h))!=null?a:!1;return a}function h(a){return d("LSThreadBitOffset").has(159,a)}g["default"]=a}),98);