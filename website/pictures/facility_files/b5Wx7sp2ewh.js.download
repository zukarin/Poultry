;/*FB_PKG_DELIM*/

__d("LSSLogger",["I64","MWChatInteraction","Promise","ReQL","ReQLSuspense","gkx","qpl","react","react-compiler-runtime","useCometInteractionTracing"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");k.useCallback;var l=k.useEffect;function a(){var a=d("react-compiler-runtime").c(5),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("qpl")._(30605384,"573"),a[0]=e):e=a[0];var f=c("useCometInteractionTracing")(e,"fast","INTERACTION",void 0);a[1]!==f?(e=function(){return new(h||(h=b("Promise")))(function(a){f(a)})},a[1]=f,a[2]=e):e=a[2];e=e;var g;a[3]!==e?(g={traceLocalSendMessageAsync:e},a[3]=e,a[4]=g):g=a[4];return g}function e(a,b){var e=d("react-compiler-runtime").c(20),g;e[0]!==a.tables.messages||e[1]!==b.threadKey?(g=function(){return d("ReQL").fromTableDescending(a.tables.messages).getKeyRange(b.threadKey)},e[0]=a.tables.messages,e[1]=b.threadKey,e[2]=g):g=e[2];var h;e[3]!==a||e[4]!==b?(h=[a,b],e[3]=a,e[4]=b,e[5]=h):h=e[5];var j=d("ReQLSuspense").useFirst(g,h,f.id+":47");e[6]!==a.tables.attachments||e[7]!==j||e[8]!==b.threadKey?(g=function(){return j!=null?d("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(b.threadKey,j.messageId):d("ReQL").empty()},e[6]=a.tables.attachments,e[7]=j,e[8]=b.threadKey,e[9]=g):g=e[9];e[10]!==a||e[11]!==j||e[12]!==b?(h=[a,j,b],e[10]=a,e[11]=j,e[12]=b,e[13]=h):h=e[13];var k=d("ReQLSuspense").useArray(g,h,f.id+":52");e[14]!==k||e[15]!==b.threadKey?(g=function(){var a=k.map(n).sort(m);if(a==null)return;var e=(a=a[0])==null?void 0:a.offlineAttachmentId;if(e==null)return;c("gkx")("6430")&&window.setTimeout(function(){var a,c=d("MWChatInteraction").getInteractionTraceForThreadKey(e+(i||(i=d("I64"))).to_string(b.threadKey));if(c==null||((a=c.getTrace())==null?void 0:a.completed)!=null)return;c.cancelTrace("msgr_lss_chat_head",!0)},1e3)},e[14]=k,e[15]=b.threadKey,e[16]=g):g=e[16];e[17]!==k||e[18]!==b?(h=[k,b],e[17]=k,e[18]=b,e[19]=h):h=e[19];l(g,h)}function m(a,b){return(i||(i=d("I64"))).compare(a.attachmentIndex,b.attachmentIndex)}function n(a){return a}g.useLSSLogger=a;g.useCancelLSSForChatHead=e}),98);
__d("MWCMInboxHeaderCommunityGroupName.react",["fbt","CometPageletWithDiv.react","MWCMThreadTypes.react","Promise","react","react-compiler-runtime","useCommunityFolder"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function l(a){return a}function m(a){var e=d("react-compiler-runtime").c(11),f=a.renderWrapper;a=a.thread;f=f!=null?f:l;var g=c("useCommunityFolder")(a);if(g==null)throw(i||(i=b("Promise"))).resolve();var j=a.cannotReplyReason==="broadcast_chat_read_only",m;e[0]!==j||e[1]!==a.threadType?(m=d("MWCMThreadTypes.react").isBroadcastThread(a.threadType)&&!j?h._(/*BTDS*/"__JHASH__2Tijp2ORsFi__JHASH__"):d("MWCMThreadTypes.react").isPrivateThread(a.threadType)?h._(/*BTDS*/"__JHASH__AR0EXhdbXqJ__JHASH__"):null,e[0]=j,e[1]=a.threadType,e[2]=m):m=e[2];m=m;var n;e[3]!==m||e[4]!==g.name||e[5]!==j||e[6]!==a.threadType?(n=d("MWCMThreadTypes.react").isBroadcastThread(a.threadType)&&!j?k.jsxs(k.Fragment,{children:[m," ",m!=null?"\u2022":null," ",g.name]}):k.jsxs(k.Fragment,{children:[g.name," ",m!=null?"\u2022":null," ",m]}),e[3]=m,e[4]=g.name,e[5]=j,e[6]=a.threadType,e[7]=n):n=e[7];e[8]!==f||e[9]!==n?(m=f(n),e[8]=f,e[9]=n,e[10]=m):m=e[10];return m}function a(a){return k.jsx(d("CometPageletWithDiv.react").Placeholder,{className:"x193iq5w",fallback:null,name:"MWCMInboxHeaderCommunityGroupName",children:k.jsx(m,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatHeadPicture.react",["ix","MDSGlimmer.react","MWChatFacepile.react","MWChatProfile.react","MWXIcon.react","fbicon","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={chatHeadIntroAnim:{animationDirection:"xpz12be",animationDuration:"x4b6v7d",animationFillMode:"x10e4vud",animationIterationCount:"x1v7wizp",animationName:"xxjl4ni",animationTimingFunction:"x84okpw",$$css:!0},dropShadow:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"x1qeybcx",":hover_boxShadow":"x19xcq9t",$$css:!0},withBackground:{backgroundColor:"xcrg951",$$css:!0},withOverflowBackground:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",width:"x1useyqa",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(22),e=a.children,f=a.images,g=a.noDropShadow;a=a.noFacepile;g=g===void 0?!1:g;a=a===void 0?!1:a;var j=f.length;if(j!==1){if(j!==0){if(a){b[0]!==g?(j=(i||(i=c("stylex"))).props(g?!1:l.dropShadow,l.withOverflowBackground),b[0]=g,b[1]=j):j=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx(c("MWXIcon.react"),{icon:d("fbicon")._(h("481920"),24)}),b[2]=a):a=b[2];var m;b[3]!==e||b[4]!==j||b[5]!==a?(m=k.jsxs("div",babelHelpers["extends"]({},j,{children:[a,e]})),b[3]=e,b[4]=j,b[5]=a,b[6]=m):m=b[6];return m}j=f[0];a=f[1];b[7]!==e||b[8]!==j||b[9]!==a?(m=k.jsx(c("MWChatFacepile.react"),{borderBetweenImages:!1,firstParticipantURI:j,secondParticipantURI:a,shadow:!0,size:48,children:e}),b[7]=e,b[8]=j,b[9]=a,b[10]=m):m=b[10];return m}b[11]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"xcrg951 x14yjl9h xudhj91 x18nykt9 xww2gxu xsdox4t x1n2onr6 x1useyqa"},b[11]=j):j=b[11];b[12]!==e?(a=k.jsx("div",babelHelpers["extends"]({},j,{children:k.jsx(c("MDSGlimmer.react"),{index:1,children:e})})),b[12]=e,b[13]=a):a=b[13];return a}b[14]!==g?(m=(i||(i=c("stylex"))).props(l.withBackground,g?!1:l.dropShadow,l.chatHeadIntroAnim),b[14]=g,b[15]=m):m=b[15];j=f[0];b[16]!==e||b[17]!==j?(a=k.jsx(c("MWChatProfile.react"),{size:48,src:j,children:e}),b[16]=e,b[17]=j,b[18]=a):a=b[18];b[19]!==m||b[20]!==a?(g=k.jsx("div",babelHelpers["extends"]({},m,{children:a})),b[19]=m,b[20]=a,b[21]=g):g=b[21];return g}g["default"]=a}),98);
__d("MWChatStateV2IsFlyoutOpen",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.openFlyoutWatermark!==0}f.isFlyoutOpen=a}),66);
__d("MWV2ChatHeadButton.react",["MWXPressable.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={button:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xsdox4t",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",transitionDuration:"xx6bhzk",transitionProperty:"x11xpdln",transitionTimingFunction:"x9lcvmn",width:"x1useyqa",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(4),c=a.children;a=a.style;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e="x6s0dn4 x78zum5 xsdox4t xl56j7k xyorhqc x10l6tqk x1useyqa",b[0]=e):e=b[0];b[1]!==c||b[2]!==a?(e=i.jsx("div",{className:e,style:a,children:c}),b[1]=c,b[2]=a,b[3]=e):e=b[3];return e}e=i.forwardRef(b);function b(a,b){var e=d("react-compiler-runtime").c(12),f=a.ariaDescribedBy,g=a.ariaLabel,h=a.children,k=a.onFocusChange,l=a.onHoverChange,m=a.onHoverIn,n=a.onHoverOut,o=a.onPress,p=a.onPressIn;a=a.testid;var q;e[0]!==f||e[1]!==g||e[2]!==h||e[3]!==k||e[4]!==l||e[5]!==m||e[6]!==n||e[7]!==o||e[8]!==p||e[9]!==b||e[10]!==a?(q=i.jsx(c("MWXPressable.react"),{"aria-describedby":f,"aria-label":g,onFocusChange:k,onHoverChange:l,onHoverIn:m,onHoverOut:n,onPress:o,onPressIn:p,overlayDisabled:!0,ref:b,testid:void 0,xstyle:j.button,children:h}),e[0]=f,e[1]=g,e[2]=h,e[3]=k,e[4]=l,e[5]=m,e[6]=n,e[7]=o,e[8]=p,e[9]=b,e[10]=a,e[11]=q):q=e[11];return q}f=e;g.MWV2ChatHeadButtonContainer=a;g.MWV2ChatHeadButton=f}),98);
__d("MWV2ChatHeadCloseButton.react",["fbt","ix","MWXIcon.react","MWXPressable.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={closeButton:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"x1qx5ct2",end:"x1adoouj",left:null,right:null,justifyContent:"xl56j7k",opacity:"xg01cxk",position:"x10l6tqk",top:"x1fo6t33",transform:"x1f85oc2",transitionDuration:"x19bguh7",transitionProperty:"x6o7n8i",width:"xw4jnvo",$$css:!0},visible:{opacity:"x1hc1fzr",transform:"x3oybdh",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),e=a.isVisible,f=a.onFocusChange,g=a.onHoverChange;a=a.onPress;var j;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(j=h._(/*BTDS*/"__JHASH__SolP4Av4egw__JHASH__"),b[0]=j):j=b[0];var m;b[1]!==e?(m=function(a){return[l.closeButton,e||a.focused?l.visible:!1]},b[1]=e,b[2]=m):m=b[2];var n;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(n=k.jsx(c("MWXIcon.react"),{icon:d("fbicon")._(i("478231"),12)}),b[3]=n):n=b[3];b[4]!==f||b[5]!==g||b[6]!==a||b[7]!==m?(j=k.jsx(c("MWXPressable.react"),{"aria-label":j,onFocusChange:f,onHoverChange:g,onPress:a,xstyle:m,children:n}),b[4]=f,b[5]=g,b[6]=a,b[7]=m,b[8]=j):j=b[8];return j}g["default"]=a}),226);
__d("MWV2ChatHeadFlyout.react",["fbt","CometPlaceholder.react","FDSBadge.react","LSThreadTitle.react","Locale","MWPIsThreadUnread","MWThreadSnippetForDisplay.react","MWXText.react","react","react-compiler-runtime","stylex","useMWThreadSnippetForDisplay"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={container:{backgroundColor:"xcrg951",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",bottom:"x1ey2m1c",boxShadow:"x1ot33o7",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",height:"xnnlda6",end:"x92rtbv",maxWidth:"x256u9z",minWidth:"xktpd3l",paddingEnd:"x1iji9kk",paddingStart:"x1sln4lm",position:"x10l6tqk",$$css:!0},containerWithSubtitle:{height:"xwzfr38",$$css:!0},gradientLTR:{backgroundImage:"x1ov1ned",$$css:!0},gradientRTL:{backgroundImage:"xwntvv8",$$css:!0},openChatArrowPointer:{borderTopEndRadius:"xevpo8y",bottom:"x1doy451",height:"xlup9mm",end:"x1923su1",position:"x10l6tqk",width:"x1kky2od",$$css:!0}},m=d("Locale").isRTL(),n=m?-45:45;function a(a){var b=d("react-compiler-runtime").c(26),e=a.id,f=a.subtitle;a=a.thread;var g=f!=null,j=d("MWPIsThreadUnread").useIsThreadUnread(a.threadKey),p;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(p=k.jsx("div",{className:"xevpo8y x1doy451 xlup9mm x1923su1 x10l6tqk x1kky2od x1ot33o7",style:{transform:"rotate("+n+"deg)"}}),b[0]=p):p=b[0];var q;b[1]!==g?(q=(i||(i=c("stylex"))).props(l.container,g?l.containerWithSubtitle:!1),b[1]=g,b[2]=q):q=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx("div",{className:"x1iyjqo2"}),b[3]=g):g=b[3];var r;b[4]!==a?(r=k.jsx("div",{"aria-hidden":!0,children:k.jsx(c("MWXText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized4",children:k.jsx(c("LSThreadTitle.react"),{thread:a})})}),b[4]=a,b[5]=r):r=b[5];var s;b[6]!==f?(s=f!=null?k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"x1iyjqo2"}),k.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"headline4",children:f})]}):null,b[6]=f,b[7]=s):s=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx("div",{className:"x1iyjqo2"}),b[8]=f):f=b[8];var t;b[9]!==j?(t=j?k.jsx(c("FDSBadge.react"),{accessibilityText:h._(/*BTDS*/"__JHASH__l0d8BOpfm06__JHASH__"),color:"blue"}):null,b[9]=j,b[10]=t):t=b[10];b[11]!==a?(j=k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(o,{thread:a})}),b[11]=a,b[12]=j):j=b[12];b[13]!==t||b[14]!==j?(a=k.jsxs(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body3",children:[t,j]}),b[13]=t,b[14]=j,b[15]=a):a=b[15];b[16]===Symbol["for"]("react.memo_cache_sentinel")?(t=k.jsx("div",{className:"x1iyjqo2"}),b[16]=t):t=b[16];b[17]!==q||b[18]!==r||b[19]!==s||b[20]!==a?(j=k.jsxs("div",babelHelpers["extends"]({},q,{children:[g,r,s,f,a,t]})),b[17]=q,b[18]=r,b[19]=s,b[20]=a,b[21]=j):j=b[21];b[22]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx("div",{className:(i||(i=c("stylex")))(l.openChatArrowPointer,m?l.gradientRTL:l.gradientLTR),style:{transform:"rotate("+n+"deg)"}}),b[22]=g):g=b[22];b[23]!==e||b[24]!==j?(f=k.jsxs("div",{"data-testid":void 0,id:e,children:[p,j,g]}),b[23]=e,b[24]=j,b[25]=f):f=b[25];return f}function o(a){var b=d("react-compiler-runtime").c(3);a=a.thread;var e=c("useMWThreadSnippetForDisplay")(a);e=e.snippet;var f;b[0]!==e||b[1]!==a?(f=k.jsx(c("MWThreadSnippetForDisplay.react"),{snippetRaw:e,thread:a}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),226);
__d("MWV2ChatHeadTypingIndicator.react",["I64","MWChatTypingIndicator.react","ReQL","ReQLSuspense","ServerTime","clearTimeout","react","react-compiler-runtime","setTimeout","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.useState;function a(a){var b=d("react-compiler-runtime").c(12),e=a.threadKey;a=a.threadType;var g=m(!1),i=g[0],j=g[1],p=(h||(h=c("useReStore")))();b[0]!==p.tables.typing_indicator||b[1]!==e?(g=function(){return d("ReQL").fromTableAscending(p.tables.typing_indicator).getKeyRange(e).filter(o)},b[0]=p.tables.typing_indicator,b[1]=e,b[2]=g):g=b[2];var q;b[3]!==p||b[4]!==e?(q=[p,e],b[3]=p,b[4]=e,b[5]=q):q=b[5];var r=d("ReQLSuspense").useArray(g,q,f.id+":48");b[6]!==r?(g=function(){j(r.length>0);var a=r.map(n);a=Math.max.apply(Math,a);a=a-d("ServerTime").getMillis();var b=c("setTimeout")(function(){return j(!1)},a);return function(){c("clearTimeout")(b)}},q=[j,r],b[6]=r,b[7]=g,b[8]=q):(g=b[7],q=b[8]);l(g,q);if(!i)return null;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x6s0dn4 xcrg951 x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x1ey2m1c x78zum5 x1qx5ct2 xds687c xl56j7k x10l6tqk x1td3qas"},b[9]=g):g=b[9];b[10]!==a?(q=k.jsx("div",babelHelpers["extends"]({},g,{children:k.jsx(c("MWChatTypingIndicator.react"),{threadType:a})})),b[10]=a,b[11]=q):q=b[11];return q}function n(a){return(i||(i=d("I64"))).to_float(a.expirationTimestampMs)}function o(a){a=a.expirationTimestampMs;return d("ServerTime").getMillis()<(i||(i=d("I64"))).to_float(a)}e=d("withCometPlaceholder").withCometPlaceholder(a,null,"MWV2ChatHeadTypingIndicator");g["default"]=e}),98);
__d("MWV2ChatHeadUnreadMessageCountBadge.react",["fbt","ARIA_LABEL_PLACEHOLDER_FIXME","CometPlaceholder.react","FDSNumberedBadge.react","I64","MWPActor.react","ReQL","ReQLSuspense","react","react-compiler-runtime","stylex","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react"),n={badgeHidden:{opacity:"xg01cxk",$$css:!0},unreadBadge:{end:"x1adoouj",position:"x10l6tqk",top:"x1fo6t33",transitionDuration:"x19bguh7",transitionProperty:"x6o7n8i",$$css:!0},unreadBadgeIndeterminate:{marginEnd:"x1n0m28w",$$css:!0}};function o(a,b){var e,g=(i||(i=c("useReStore")))(),h=d("MWPActor.react").useActor();return(e=(e=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.tables.messages).getKeyRange(a).bounds({gt:[b]}).filter(function(a){return!(k||(k=d("I64"))).equal(a.senderId,h)}).take(10)},[h,g,b,a],f.id+":58"))==null?void 0:e.length)!=null?e:0}function p(a){var b=d("react-compiler-runtime").c(12),e=a.isUnread,f=a.isVisible;a=a.unreadMessageCount;if(a===0&&!e){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=m.jsx("div",babelHelpers["extends"]({"aria-hidden":!0},{className:"xg01cxk x1f85oc2"})),b[0]=e):e=b[0];return e}b[1]!==a?(e=a===0?h._(/*BTDS*/"__JHASH__MH2_8oaWFOv__JHASH__"):h._(/*BTDS*/"__JHASH__oUEWSJWvKe9__JHASH__",[h._plural(a,"number")]),b[1]=a,b[2]=e):e=b[2];e=e;var g;b[3]!==a?(g=a===0?null:m.jsx(c("FDSNumberedBadge.react"),{accessibilityText:c("ARIA_LABEL_PLACEHOLDER_FIXME"),overflow:9,value:a}),b[3]=a,b[4]=g):g=b[4];g=g;var i;b[5]!==f||b[6]!==a?(i=(j||(j=c("stylex"))).props(n.unreadBadge,f?!1:n.badgeHidden,a===0?n.unreadBadgeIndeterminate:!1),b[5]=f,b[6]=a,b[7]=i):i=b[7];b[8]!==e||b[9]!==g||b[10]!==i?(f=m.jsx("div",babelHelpers["extends"]({"aria-label":e},i,{children:g})),b[8]=e,b[9]=g,b[10]=i,b[11]=f):f=b[11];return f}function q(a){var b=d("react-compiler-runtime").c(4),c=a.isUnread,e=a.isVisible,f=a.lastReadWatermarkTimestampMs;a=a.threadKey;a=o(a,f);b[0]!==c||b[1]!==e||b[2]!==a?(f=m.jsx(p,{isUnread:c,isVisible:e,unreadMessageCount:a}),b[0]=c,b[1]=e,b[2]=a,b[3]=f):f=b[3];return f}a=function(a){return m.jsx(c("CometPlaceholder.react"),{fallback:m.jsx(p,{isUnread:a.isUnread,isVisible:a.isVisible,unreadMessageCount:0}),name:"MWV2ChatHeadUnreadMessageCountBadge",children:m.jsx(q,babelHelpers["extends"]({},a))})};g.MWV2ChatHeadUnreadMessageCountBadge=a}),226);
__d("MWV2ChatHead.react",["fbt","CometContextualLayer.react","CometPlaceholder.react","GroupsCometChatsEngagementLogger","I64","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSReportThreadViewOpenStoredProcedure","LSSLogger","LSThreadAttributionStore","MWCMInboxHeaderCommunityGroupName.react","MWCMThreadTypes.react","MWChatHeadPicture.react","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2IsFlyoutOpen","MWFacepileBadge.react","MWPActor.react","MWPGetThreadTitle","MWPIsThreadUnread","MWV2ChatHeadButton.react","MWV2ChatHeadCloseButton.react","MWV2ChatHeadFlyout.react","MWV2ChatHeadTypingIndicator.react","MWV2ChatHeadUnreadMessageCountBadge.react","MWV2EnsureThatChatTabExists","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","getLSMediaThreadPictureUrl","gkx","justknobx","profilePhotoUtils","promiseDone","react","react-compiler-runtime","useCommunityFolder","useGetContactsToShow","useMWChatOpenTabTraceProvider","useMWReportThreadOpenOnMountAndFocusWithLogger","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));b=l;var n=b.useId,o=b.useRef,p=b.useState,q=c("justknobx")._("2202");function r(a,b){var c=d("react-compiler-runtime").c(6),e=d("MWPActor.react").useActor(),f=a.threadName;if(f!=null){var g;c[0]!==f?(g=h._(/*BTDS*/"__JHASH__8WUxbAIePCk__JHASH__",[h._param("name of conversation",f)]),c[0]=f,c[1]=g):g=c[1];return g}if(c[2]!==e||c[3]!==b||c[4]!==a.threadType){g=(f=d("MWPGetThreadTitle").computeThreadTitle(void 0,a.threadType,b,e))!=null?f:"";f=h._(/*BTDS*/"__JHASH__WVlVng4Euk___JHASH__",[h._param("chat participants",g)]);c[2]=e;c[3]=b;c[4]=a.threadType;c[5]=f}else f=c[5];return f}function s(a,b){var e=d("react-compiler-runtime").c(6),f=d("MWPActor.react").useActor(),g;e[0]!==a?(g=c("getLSMediaThreadPictureUrl")(a),e[0]=a,e[1]=g):g=e[1];g=g;a=c("useGetContactsToShow")(a,b,f);if(g!=null){e[2]!==g?(b=[g],e[2]=g,e[3]=b):b=e[3];return b}e[4]!==a?(f=a.map(c("getLSMediaContactProfilePictureUrl")),e[4]=a,e[5]=f):f=e[5];return f}function t(a){var b=d("react-compiler-runtime").c(79),e=a.onFocusChange,g=a.onHoverChange,h=a.style,l=a.tab,t=a.thread,v=(i||(i=c("useReStore")))(),w=c("useCommunityFolder")(t),x=d("MWChatStateV2.react").useDispatch(),y=c("useMWChatOpenTabTraceProvider")();b[0]!==t.threadType?(a=d("MWCMThreadTypes.react").isJoinedCMThread(t.threadType),b[0]=t.threadType,b[1]=a):a=b[1];var z=a;b[2]!==x||b[3]!==z||b[4]!==w||b[5]!==v||b[6]!==l.tabId||b[7]!==t.parentThreadKey||b[8]!==t.threadKey||b[9]!==t.threadType||b[10]!==y?(a=function(){z&&(d("GroupsCometChatsEngagementLogger").log({action:"tap",community_id:w?(j||(j=d("I64"))).to_string(w.folderId):(j||(j=d("I64"))).to_string(t.parentThreadKey),event:"thread_open",group_id:w?(j||(j=d("I64"))).to_string(w.fbGroupId):null,source:"chat_bubble",surface:"chat_bubbles_container",thread_id:(j||(j=d("I64"))).to_string(t.threadKey)}),c("promiseDone")(v.runInTransaction(function(a){return c("LSReportThreadViewOpenStoredProcedure")(c("LSFactory")(a),{threadKey:t.threadKey})},"readwrite",void 0,void 0,f.id+":169"))),y(function(a){d("MWChatInteraction").set((j||(j=d("I64"))).to_string(t.threadKey),a),x(d("MWChatStateActions").maximizeTab(Date.now(),l.tabId))},(k||(k=d("LSIntEnum"))).unwrapIntEnum(t.threadType),"chatheads",t.threadKey),d("LSThreadAttributionStore").setSource((j||(j=d("I64"))).to_string(t.threadKey),"chatheads")},b[2]=x,b[3]=z,b[4]=w,b[5]=v,b[6]=l.tabId,b[7]=t.parentThreadKey,b[8]=t.threadKey,b[9]=t.threadType,b[10]=y,b[11]=a):a=b[11];a=a;d("LSSLogger").useCancelLSSForChatHead(v,t);var A=t.threadKey,B=p(!1),C=B[0],D=B[1];B=p(!1);var E=B[0],F=B[1];b[12]!==x||b[13]!==l.tabId?(B=function(){return x(d("MWChatStateActions").closeTab(Date.now(),l.tabId))},b[12]=x,b[13]=l.tabId,b[14]=B):B=b[14];B=B;var G;b[15]!==v.tables.contacts||b[16]!==v.tables.participants||b[17]!==A?(G=function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(v.tables.participants,["contactId","nickname"]).getKeyRange(A),d("ReQL").fromTableAscending(v.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2","id","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs","id"])).take(8)},b[15]=v.tables.contacts,b[16]=v.tables.participants,b[17]=A,b[18]=G):G=b[18];var H;b[19]!==v||b[20]!==A?(H=[v,A],b[19]=v,b[20]=A,b[21]=H):H=b[21];G=d("ReQLSuspense").useArray(G,H,f.id+":201");H=o(null);var I;b[22]!==l?(I=d("MWChatStateV2IsFlyoutOpen").isFlyoutOpen(l),b[22]=l,b[23]=I):I=b[23];I=I;var J=n(),K=r(t,G),L;b[24]!==G?(L=G.map(u),b[24]=G,b[25]=L):L=b[25];G=L;L=s(t,G);b[26]===Symbol["for"]("react.memo_cache_sentinel")?(G=d("profilePhotoUtils").getBadgeSizeAndStrokeWidth(48),b[26]=G):G=b[26];G=G;G=G[0];var M;b[27]===Symbol["for"]("react.memo_cache_sentinel")?(M=d("profilePhotoUtils").getBadgePosition(24),b[27]=M):M=b[27];M=M;var N;b[28]!==z||b[29]!==t?(N=z?m.jsx(c("MWCMInboxHeaderCommunityGroupName.react"),{thread:t}):null,b[28]=z,b[29]=t,b[30]=N):N=b[30];N=N;var O=d("MWPIsThreadUnread").useIsThreadUnread(t.threadKey),P=d("LSMessagingThreadTypeUtil").isChannelPreview(t.threadType),Q=c("gkx")("969")?q:null;Q=c("useMWReportThreadOpenOnMountAndFocusWithLogger")(t,Q);var R;b[31]!==K?(R=K.toString(),b[31]=K,b[32]=R):R=b[32];b[33]!==e?(K=function(a){F(a),e(a)},b[33]=e,b[34]=K):K=b[34];var S;b[35]!==g?(S=function(a){D(a),g(a)},b[35]=g,b[36]=S):S=b[36];P=!P&&!C&&!E;var T;b[37]!==O||b[38]!==P||b[39]!==t.lastReadWatermarkTimestampMs||b[40]!==A?(T=m.jsx(d("MWV2ChatHeadUnreadMessageCountBadge.react").MWV2ChatHeadUnreadMessageCountBadge,{isUnread:O,isVisible:P,lastReadWatermarkTimestampMs:t.lastReadWatermarkTimestampMs,threadKey:A}),b[37]=O,b[38]=P,b[39]=t.lastReadWatermarkTimestampMs,b[40]=A,b[41]=T):T=b[41];b[42]===Symbol["for"]("react.memo_cache_sentinel")?(O="x10l6tqk",P={bottom:M.bottom,left:M.left,right:M.right,transform:M.transform},b[42]=O,b[43]=P):(O=b[42],P=b[43]);b[44]!==t.threadKey?(M=m.jsx("div",{className:O,style:P,children:m.jsx(c("MWFacepileBadge.react"),{size:G,threadKey:t.threadKey})}),b[44]=t.threadKey,b[45]=M):M=b[45];b[46]!==L||b[47]!==T||b[48]!==M?(O=m.jsx("div",{ref:H,children:m.jsxs(c("MWChatHeadPicture.react"),{images:L,children:[T,M]})}),b[46]=L,b[47]=T,b[48]=M,b[49]=O):O=b[49];b[50]!==J||b[51]!==I||b[52]!==E||b[53]!==C||b[54]!==N||b[55]!==t?(P=C||E||I?m.jsx(c("CometContextualLayer.react"),{contextRef:H,children:m.jsx(c("CometPlaceholder.react"),{fallback:null,children:m.jsx(c("MWV2ChatHeadFlyout.react"),{id:J,subtitle:N,thread:t})})}):null,b[50]=J,b[51]=I,b[52]=E,b[53]=C,b[54]=N,b[55]=t,b[56]=P):P=b[56];b[57]!==t.threadType||b[58]!==A?(G=m.jsx(c("MWV2ChatHeadTypingIndicator.react"),{threadKey:A,threadType:t.threadType}),b[57]=t.threadType,b[58]=A,b[59]=G):G=b[59];b[60]!==J||b[61]!==a||b[62]!==R||b[63]!==K||b[64]!==S||b[65]!==O||b[66]!==P||b[67]!==G?(L=m.jsxs(d("MWV2ChatHeadButton.react").MWV2ChatHeadButton,{ariaDescribedBy:J,ariaLabel:R,onFocusChange:K,onHoverChange:S,onPress:a,children:[O,P,G]}),b[60]=J,b[61]=a,b[62]=R,b[63]=K,b[64]=S,b[65]=O,b[66]=P,b[67]=G,b[68]=L):L=b[68];T=C||E;b[69]!==B||b[70]!==T?(M=m.jsx(c("MWV2ChatHeadCloseButton.react"),{isVisible:T,onFocusChange:F,onHoverChange:D,onPress:B}),b[69]=B,b[70]=T,b[71]=M):M=b[71];b[72]!==h||b[73]!==L||b[74]!==M?(H=m.jsxs(d("MWV2ChatHeadButton.react").MWV2ChatHeadButtonContainer,{style:h,children:[L,M]}),b[72]=h,b[73]=L,b[74]=M,b[75]=H):H=b[75];b[76]!==Q||b[77]!==H?(I=m.jsxs(m.Fragment,{children:[Q,H]}),b[76]=Q,b[77]=H,b[78]=I):I=b[78];return I}function u(a){a=a[1];return a}function a(a){var b=d("react-compiler-runtime").c(18),e=a.onFocusChange,g=a.onHoverChange,h=a.style,j=a.tab;a=a.threadKeyDescriptor;var k=(i||(i=c("useReStore")))(),l=a.clientThreadKey,n=a.threadKey;d("MWV2EnsureThatChatTabExists").useMWV2EnsureThatChatTabExists(n,a.threadType,a.clientThreadKey);b[0]!==k.tables.threads||b[1]!==n?(a=function(){return d("ReQL").fromTableAscending(k.tables.threads).getKeyRange(n)},b[0]=k.tables.threads,b[1]=n,b[2]=a):a=b[2];var o;b[3]!==k||b[4]!==n?(o=[k,n],b[3]=k,b[4]=n,b[5]=o):o=b[5];a=d("ReQLSuspense").useFirst(a,o,f.id+":329");b[6]!==l||b[7]!==k.tables.threads?(o=function(){return l!=null?d("ReQL").fromTableAscending(k.tables.threads.index("clientThreadKey")).getKeyRange(l):d("ReQL").empty()},b[6]=l,b[7]=k.tables.threads,b[8]=o):o=b[8];var p;b[9]!==l||b[10]!==k?(p=[k,l],b[9]=l,b[10]=k,b[11]=p):p=b[11];o=d("ReQLSuspense").useFirst(o,p,f.id+":333");p=(a=(p=a)!=null?p:o)!=null?a:null;b[12]!==e||b[13]!==g||b[14]!==h||b[15]!==j||b[16]!==p?(o=p&&m.jsx(t,{onFocusChange:e,onHoverChange:g,style:h,tab:j,thread:p}),b[12]=e,b[13]=g,b[14]=h,b[15]=j,b[16]=p,b[17]=o):o=b[17];return o}g["default"]=a}),226);