;/*FB_PKG_DELIM*/

__d("CometMessagingJewelCommunitiesQPBannerContainerPassthroughQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6488000047956149"}),null);
__d("FBIconAppFacebookCircleFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{stroke:"none",strokeWidth:1,fillRule:"evenodd",children:i.jsx(d("XPlatReactSVG").Path,{d:"M103.5 917a5.997 5.997 0 0 0-1.45 11.817v-3.984h-1.238V923h1.239v-.79c0-2.042.924-2.988 2.927-2.988.38 0 1.035.075 1.303.149v1.661a7.953 7.953 0 0 0-.693-.022c-.984 0-1.363.373-1.363 1.342V923h1.96l-.335 1.833h-1.623v4.119A5.997 5.997 0 0 0 103.5 917",transform:"translate(-450 -1073) translate(352.5 156.5)"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSClearSingleCommunityMember",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return void 0!==void 0?c[0]=!1:c[0]=!0,b.i64.neq(void 0,void 0)?b.forEach(b.filter(b.db.table(170).fetch([[[a[0],a[1]]]]),function(d){return b.i64.eq(d.groupThreadId,void 0)&&b.i64.eq(d.communityId,a[0])&&b.i64.eq(d.contactId,a[1])&&(c[0]||d.requestId===void 0)}),function(a){return a["delete"]()}):b.forEach(b.filter(b.db.table(170).fetch([[[a[0],a[1]]]]),function(d){return b.i64.eq(d.communityId,a[0])&&b.i64.eq(d.contactId,a[1])&&(c[0]||d.requestId===void 0)}),function(a){return a["delete"]()})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxClearSingleCommunityMemberStoredProcedure";a.__tables__=["community_members"];e.exports=a}),null);
__d("LSLocalOptimisticDeleteDiscoverableChat",["LSDeleteThread","LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(d){return c.storedProcedure(b("LSDeleteThread"),a[0],!1)},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[2]=a[0],a})},function(e){return d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("actor_id",d[2]),d[3].set("sync_group",d[0]),d[4]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),"expr_delete_public_chat",c.i64.cast([0,110004]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxLocalOptimisticDeleteDiscoverableChatStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSLocalOptimisticDeleteDiscoverableChatStoredProcedure",["LSLocalOptimisticDeleteDiscoverableChat","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSLocalOptimisticDeleteDiscoverableChat"),e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticDeleteThread",["LSDeleteThread","LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.storedProcedure(b("LSDeleteThread"),a[0],!1)},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],void 0)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[0]=d[6])})},function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=!1:(b=a.item,d[2]=b.errorShouldBeShown)})},function(a){return d[2]===!0?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[6]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[7]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[6],d[7],void 0,void 0)}]):c.resolve()},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),"delete_thread_v2",c.i64.cast([0,86]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticDeleteThreadStoredProcedure";a.__tables__=["threads","user_visible_network_connectivity_error"];e.exports=a}),null);
__d("LSOptimisticDeleteThreadStoredProcedure",["LSOptimisticDeleteThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticDeleteThread"),e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWCutoverQPLLogger",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h={instanceKey:0,isInProgress:!1};function a(a){h.isInProgress&&c("QPLUserFlow").endCancel(c("qpl")._(1056840990,"2431"),{instanceKey:h.instanceKey});c("QPLUserFlow").start(c("qpl")._(1056840990,"2431"),{annotations:{bool:{is_dtc:a}},instanceKey:++h.instanceKey,timeoutInMs:1e4});h.isInProgress=!0;return h.instanceKey}function b(a,b,d){if(a==null)return;c("QPLUserFlow").addPoint(c("qpl")._(1056840990,"2431"),b,babelHelpers["extends"]({instanceKey:a},d))}function d(a,b){if(a==null)return;c("QPLUserFlow").addAnnotations(c("qpl")._(1056840990,"2431"),b,{instanceKey:a})}function e(a){if(a==null)return;h.isInProgress=!1;c("QPLUserFlow").endSuccess(c("qpl")._(1056840990,"2431"),{instanceKey:a})}function f(a,b){if(a==null)return;c("QPLUserFlow").endFailure(c("qpl")._(1056840990,"2431"),b,{instanceKey:a})}g.startQpl=a;g.addPoint=b;g.addAnnotations=d;g.endSuccess=e;g.endFailure=f}),98);
__d("MWAdminForBroadcastChannelUtils",["I64","MWPActor.react","ReQL","ReQLSuspense","qex","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("react-compiler-runtime").c(12),e=(i||(i=c("useReStore")))(),g;b[0]!==e.tables.participants||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.participants,["contactId","isAdmin"]).getKeyRange(a).filter(j)},b[0]=e.tables.participants,b[1]=a,b[2]=g):g=b[2];var h;b[3]!==e||b[4]!==a?(h=[e,a],b[3]=e,b[4]=a,b[5]=h):h=b[5];var k=d("ReQLSuspense").useFirst(g,h,f.id+":26");b[6]!==k||b[7]!==e.tables.contacts?(g=function(){return(k==null?void 0:k.contactId)!=null?d("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(k.contactId):d("ReQL").empty()},b[6]=k,b[7]=e.tables.contacts,b[8]=g):g=b[8];h=k==null?void 0:k.contactId;var l;b[9]!==e||b[10]!==h?(l=[h,e],b[9]=e,b[10]=h,b[11]=l):l=b[11];return d("ReQLSuspense").useFirst(g,l,f.id+":34")}function j(a){a=a.isAdmin;return!!a}function k(a){var b=d("react-compiler-runtime").c(6),e=(i||(i=c("useReStore")))(),g;b[0]!==e.tables.participants||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.participants,["contactId","isAdmin"]).getKeyRange(a).filter(l)},b[0]=e.tables.participants,b[1]=a,b[2]=g):g=b[2];var h;b[3]!==e||b[4]!==a?(h=[e,a],b[3]=e,b[4]=a,b[5]=h):h=b[5];b=d("ReQLSuspense").useFirst(g,h,f.id+":48");return b==null?void 0:b.contactId}function l(a){a=a.isAdmin;return!!a}function b(a){var b=d("react-compiler-runtime").c(1),e=k(a),f=d("MWPActor.react").useActor();if((h||(h=d("I64"))).equal(a,(h||(h=d("I64"))).zero))return!1;a=e?(h||(h=d("I64"))).equal(e,f):!1;if(a)return!0;else{if(b[0]===Symbol["for"]("react.memo_cache_sentinel")){f=(e=c("qex")._("2114"))!=null?e:!1;b[0]=f}else f=b[0];return f}}g.useFetchBroadcastChannelCreator=a;g.useFetchBroadcastChannelCreatorId=k;g.useCanUserShareChannelToStory=b}),98);
__d("MWChatRTCButtonIcons.react",["cr:7190"],(function(a,b,c,d,e,f,g){"use strict";g.AudioIcon=b("cr:7190").AudioIcon,g.InfoIcon=b("cr:7190").InfoIcon,g.VideoIcon=b("cr:7190").VideoIcon}),98);
__d("MWEmoji.react",["CometEmoji.react","EmojiRenderer","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.emoji,e=a.size;a=a.testid;return i.jsx(c("CometEmoji.react"),{emoji:j(function(){var a=d("EmojiRenderer").parse(b);a=a[0];return a!=null?a.emoji:[b]},[b]),size:e,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXFacepilePhoto.react",["cr:5281","cr:5395","cr:5894","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(21),e,f,g,h;c[0]!==a?(f=a.badge,g=a.items,h=a.size,e=babelHelpers.objectWithoutPropertiesLoose(a,["badge","items","size"]),c[0]=a,c[1]=e,c[2]=f,c[3]=g,c[4]=h):(e=c[1],f=c[2],g=c[3],h=c[4]);if(b("cr:5894")!=null&&b("cr:5281")!=null){c[5]!==f||c[6]!==h?(a=f==="availabilityBadge"?i.jsx(b("cr:5281"),{size:h<48?12:16,state:"active"}):null,c[5]=f,c[6]=h,c[7]=a):a=c[7];var k=h===28?32:h===48?56:h,l;c[8]!==g?(l=g.map(j),c[8]=g,c[9]=l):l=c[9];var m;c[10]!==e||c[11]!==g.length||c[12]!==a||c[13]!==k||c[14]!==l?(m=i.jsx(b("cr:5894"),babelHelpers["extends"]({badge:a,size:k,sources:l,totalItems:g.length},e)),c[10]=e,c[11]=g.length,c[12]=a,c[13]=k,c[14]=l,c[15]=m):m=c[15];return m}if(b("cr:5395")!=null){c[16]!==e||c[17]!==f||c[18]!==g||c[19]!==h?(a=i.jsx(b("cr:5395"),babelHelpers["extends"]({badge:f,items:g,size:h},e)),c[16]=e,c[17]=f,c[18]=g,c[19]=h,c[20]=a):a=c[20];return a}return null}function j(a){var b=a.alt;a=a.uri;return{alt:b,source:a}}g["default"]=a}),98);
__d("MWXIconAppFacebook",["MWXSvgIcon","SVGIcon","cr:12273","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12273")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXTabs.react",["cr:4220","cr:4354","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(4);if(b("cr:4220")!=null){var e;c[0]!==a?(e=i.jsx(b("cr:4220"),babelHelpers["extends"]({},a)),c[0]=a,c[1]=e):e=c[1];return e}if(b("cr:4354")!=null){c[2]!==a?(e=i.jsx(b("cr:4354"),babelHelpers["extends"]({},a)),c[2]=a,c[3]=e):e=c[3];return e}return null}g["default"]=a}),98);
__d("MessageRequestsBulkActionsButtons.react",["fbt","FDSButtonGroup.react","FocusRegion.react","I64","LSFactory","LSOptimisticDeleteThreadStoredProcedure","LSOptimisticMarkThreadReadV2StoredProcedure","MessageRequestsBulkActionsContext.react","MessageRequestsLog","ServerTime","emptyFunction","focusScopeQueries","promiseDone","react","react-compiler-runtime","stylex","useMWXConfirmationDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=k||(k=d("react"));b=k;b.useCallback;var n=b.useContext,o={bulkActionsButtons:{paddingBottom:"xsag5q8",$$css:!0},bulkActionsButtonsHidden:{display:"x1s85apg",$$css:!0}};function p(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=function(b){b.forEach(function(b){var e=(l||(l=d("I64"))).of_string(b);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticMarkThreadReadV2StoredProcedure")(c("LSFactory")(a),{readWatermarkTimestampMs:(l||(l=d("I64"))).of_float(d("ServerTime").getMillis()),threadKey:e})},"readwrite",void 0,void 0,f.id+":52"))})},b[0]=a,b[1]=e):e=b[1];return e}function q(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=function(b){b.forEach(function(b){var e=(l||(l=d("I64"))).of_string(b);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticDeleteThreadStoredProcedure")(c("LSFactory")(a),{threadKey:e})},"readwrite",void 0,void 0,f.id+":73"))})},b[0]=a,b[1]=e):e=b[1];return e}function a(a){var b=d("react-compiler-runtime").c(32);a=a.entryPoint;var e=a===void 0?"messageRequests":a;a=n(c("MessageRequestsBulkActionsContext.react"));var f=a.bulkActionsSelectedThreads,g=a.bulkActionsUnreadSelectedThreads,k=a.isBulkActionsEditMode,l=a.setIsBulkActionsEditMode;a=(i||(i=c("useReStore")))();var r=p(a),s=q(a),t=c("useMWXConfirmationDialog")();b[0]!==f||b[1]!==g.size||b[2]!==e||b[3]!==r||b[4]!==l?(a=function(){r(f);l(!1);return d("MessageRequestsLog").logMessageRequestsBulkActionTapped(0,f.size,g.size,5,e==="spam"?-3:-1)},b[0]=f,b[1]=g.size,b[2]=e,b[3]=r,b[4]=l,b[5]=a):a=b[5];a=a;var u;b[6]!==f||b[7]!==g.size||b[8]!==s||b[9]!==e||b[10]!==l||b[11]!==t?(u=function(){d("MessageRequestsLog").logMessageRequestsBulkActionTapped(0,f.size,g.size,4,e==="spam"?-3:-1);return t({body:f.size===1?h._(/*BTDS*/"__JHASH__MLd3xbTafSI__JHASH__"):h._(/*BTDS*/"__JHASH__sZbvz5cEYff__JHASH__"),confirm:h._(/*BTDS*/"__JHASH__pKnL1Kcyxnh__JHASH__"),title:f.size===1?h._(/*BTDS*/"__JHASH__zdCU4WfWx_J__JHASH__"):h._(/*BTDS*/"__JHASH__6Kbu-lnpMhp__JHASH__",[h._param("Number of selected threads",String(f.size))])},function(){s(f);l(!1);d("FocusRegion.react").focusRegionById("mwb-jewel-bulk-actions-edit-button",d("focusScopeQueries").tabbableScopeQuery);return d("MessageRequestsLog").logMessageRequestsBulkActionConfirmed(0,f.size,g.size,4,e==="spam"?-3:-1)},c("emptyFunction"))},b[6]=f,b[7]=g.size,b[8]=s,b[9]=e,b[10]=l,b[11]=t,b[12]=u):u=b[12];u=u;var v;b[13]!==k?(v=(j||(j=c("stylex"))).props(k?o.bulkActionsButtons:o.bulkActionsButtonsHidden),b[13]=k,b[14]=v):v=b[14];k=e==="spam"?"spam-bulk-actions-buttons":"message-requests-bulk-actions-buttons";var w=f.size===0||g.size===0,x;b[15]===Symbol["for"]("react.memo_cache_sentinel")?(x=h._(/*BTDS*/"__JHASH__pC0i0CAW1ov__JHASH__").toString(),b[15]=x):x=b[15];var y=e==="spam"?"spam-bulk-mark-as-read-button":"message-requests-bulk-mark-as-read-button";b[16]!==a||b[17]!==w||b[18]!==y?(x={disabled:w,label:x,onPress:a,testid:y,type:"secondary"},b[16]=a,b[17]=w,b[18]=y,b[19]=x):x=b[19];a=f.size===0;b[20]===Symbol["for"]("react.memo_cache_sentinel")?(w=h._(/*BTDS*/"__JHASH__pKnL1Kcyxnh__JHASH__"),b[20]=w):w=b[20];y=e==="spam"?"spam-bulk-delete-button":"message-requests-bulk-delete-button";b[21]!==u||b[22]!==a||b[23]!==y?(w={disabled:a,label:w,onPress:u,testid:y},b[21]=u,b[22]=a,b[23]=y,b[24]=w):w=b[24];b[25]!==w||b[26]!==x?(u=m.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,children:m.jsx(c("FDSButtonGroup.react"),{align:"justify",direction:"forward",primary:x,secondary:w})}),b[25]=w,b[26]=x,b[27]=u):u=b[27];b[28]!==u||b[29]!==v||b[30]!==k?(a=m.jsx("div",babelHelpers["extends"]({},v,{id:k,children:u})),b[28]=u,b[29]=v,b[30]=k,b[31]=a):a=b[31];return a}g["default"]=a}),226);
__d("TetraMWChatRTCButtonIcons.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(7),c=a.fill;a=a.size;var e,f;b[0]!==c?(e=i.jsx("path",{d:"M10.952 14.044c.074.044.147.086.22.125a.842.842 0 001.161-.367c.096-.195.167-.185.337-.42.204-.283.552-.689.91-.772.341-.078.686-.105.92-.11.435-.01 1.118.174 1.926.648a15.9 15.9 0 011.713 1.147c.224.175.37.43.393.711.042.494-.034 1.318-.754 2.137-1.135 1.291-2.859 1.772-4.942 1.088a17.47 17.47 0 01-6.855-4.212 17.485 17.485 0 01-4.213-6.855c-.683-2.083-.202-3.808 1.09-4.942.818-.72 1.642-.796 2.136-.754.282.023.536.17.711.392.25.32.663.89 1.146 1.714.475.808.681 1.491.65 1.926-.024.31-.026.647-.112.921-.11.35-.488.705-.77.91-.236.17-.226.24-.42.336a.841.841 0 00-.368 1.161c.04.072.081.146.125.22a14.012 14.012 0 004.996 4.996z",fill:c}),f=i.jsx("path",{d:"M10.952 14.044c.074.044.147.086.22.125a.842.842 0 001.161-.367c.096-.195.167-.185.337-.42.204-.283.552-.689.91-.772.341-.078.686-.105.92-.11.435-.01 1.118.174 1.926.648.824.484 1.394.898 1.713 1.147.224.175.37.43.393.711.042.494-.034 1.318-.754 2.137-1.135 1.291-2.859 1.772-4.942 1.088a17.47 17.47 0 01-6.855-4.212 17.485 17.485 0 01-4.213-6.855c-.683-2.083-.202-3.808 1.09-4.942.818-.72 1.642-.796 2.136-.754.282.023.536.17.711.392.25.32.663.89 1.146 1.714.475.808.681 1.491.65 1.926-.024.31-.026.647-.112.921-.11.35-.488.705-.77.91-.236.17-.226.24-.42.336a.841.841 0 00-.368 1.161c.04.072.081.146.125.22a14.012 14.012 0 004.996 4.996z",fill:"none",stroke:c}),b[0]=c,b[1]=e,b[2]=f):(e=b[1],f=b[2]);b[3]!==a||b[4]!==e||b[5]!==f?(c=i.jsxs("svg",{height:a,role:"presentation",viewBox:"-5 -5 30 30",width:a,children:[e,f]}),b[3]=a,b[4]=e,b[5]=f,b[6]=c):c=b[6];return c}function b(a){var b=d("react-compiler-runtime").c(9),c=a.fill,e=a.showPresence;a=a.size;e=e!=null?e:!1;var f=e?"-3":"-5";f=f+" -5 30 30";var g;b[0]!==c?(g=i.jsx("path",{d:"M19.492 4.112a.972.972 0 00-1.01.063l-3.052 2.12a.998.998 0 00-.43.822v5.766a1 1 0 00.43.823l3.051 2.12a.978.978 0 001.011.063.936.936 0 00.508-.829V4.94a.936.936 0 00-.508-.828zM10.996 18A3.008 3.008 0 0014 14.996V5.004A3.008 3.008 0 0010.996 2H3.004A3.008 3.008 0 000 5.004v9.992A3.008 3.008 0 003.004 18h7.992z",fill:c}),b[0]=c,b[1]=g):g=b[1];b[2]!==e?(c=e?i.jsx("circle",babelHelpers["extends"]({className:"x1xgahvj"},{cx:"24",cy:"10",r:"2"})):null,b[2]=e,b[3]=c):c=b[3];b[4]!==a||b[5]!==f||b[6]!==g||b[7]!==c?(e=i.jsxs("svg",{height:a,role:"presentation",viewBox:f,width:a,children:[g,c]}),b[4]=a,b[5]=f,b[6]=g,b[7]=c,b[8]=e):e=b[8];return e}function c(a){var b=d("react-compiler-runtime").c(2);a=a.fill;var c;b[0]!==a?(c=i.jsx("svg",{height:"24px",name:"icon",role:"presentation",viewBox:"0 0 36 36",width:"24px",children:i.jsx("g",{transform:"translate(18,18)scale(1.2)translate(-18,-18)",children:i.jsx("path",{d:"M18,10 C16.6195,10 15.5,11.119 15.5,12.5 C15.5,13.881 16.6195,15 18,15 C19.381,15 20.5,13.881 20.5,12.5 C20.5,11.119 19.381,10 18,10 Z M16,25 C16,25.552 16.448,26 17,26 L19,26 C19.552,26 20,25.552 20,25 L20,18 C20,17.448 19.552,17 19,17 L17,17 C16.448,17 16,17.448 16,18 L16,25 Z M18,30 C11.3725,30 6,24.6275 6,18 C6,11.3725 11.3725,6 18,6 C24.6275,6 30,11.3725 30,18 C30,24.6275 24.6275,30 18,30 Z",fill:a,stroke:a},"lens")})}),b[0]=a,b[1]=c):c=b[1];return c}g.AudioIcon=a;g.VideoIcon=b;g.InfoIcon=c}),98);
__d("queryMWLSOtherParticipantContact",["I64","LSMessagingThreadTypeUtil","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,e,f){c=d("LSMessagingThreadTypeUtil").isOneToOne(c);return c?d("ReQL").leftJoin(d("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(b).filter(function(a){return!(h||(h=d("I64"))).equal(a.contactId,e)}).take(1),d("ReQL").fromTableAscending(a.tables.contacts,f)).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()}g["default"]=a}),98);
__d("useLogDeleteChannelFailed",["LSMessagingThreadTypeUtil","QuickPerformanceLogger","emptyFunction","qpl","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(a){a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a);var b=j;return a?b:c("emptyFunction")}function j(){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(975844490,"1761"),3)}g["default"]=a}),98);
__d("useMWPThreadPointQueryOneToOneCutoverThreadThenNavigate",["I64","LSFactory","LSPlatformWaitForTaskCompletion","LSThreadAttributionStore","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","MAWCutoverQPLLogger","MAWJids","QPLUserFlow","ReQL","WABridgedAPI","WALoggerDeferred","asyncToGeneratorRuntime","justknobx","promiseDone","qpl","react","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Thread-Point-Query][OD-Cutover] LSThreadPointQueryAndRestoreMessagesWithJID finished successfully for ThreadKey: ",""]);k=function(){return a};return a}var l=(h||d("react")).useCallback,m=c("justknobx")._("2707");function a(){var a=c("useAsyncReStore")();return l(function(e){var f=e.contactId,g=e.isOnDemandCutover,h=e.navigationApi,l=e.qplInstanceKey;d("MAWCutoverQPLLogger").addPoint(l,"tpq_then_navigate_started");d("MAWCutoverQPLLogger").addAnnotations(l,{bool:{is_od_cutover:(e=g)!=null?e:!1}});c("promiseDone")(a,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){function e(a,b){var e=a.clientThreadKey,g=a.threadKey;a=a.threadType;c("promiseDone")(c("WABridgedAPI").getDevices({ignoreDhash:!1,reason:"thread-point-querying-1-to-1-thread",users:new Set().add(d("MAWJids").toUserJid((i||(i=d("I64"))).to_string(f)))}));d("MAWCutoverQPLLogger").addPoint(l,"navigate_to_thread");d("MAWCutoverQPLLogger").endSuccess(l);h.openTabOrInbox({clientThreadKey:e,threadKey:g,threadType:a},(e=b)!=null?e:"preCutoverThread",void 0,void 0,{subEntrypoint:"threadPointQuery1To1"})}var o=d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table.index("jid")).getKeyRange(f);if(m){var p=(yield d("ReQL").firstAsync(o));d("MAWCutoverQPLLogger").addPoint(l,"check_existing_mapping");d("MAWCutoverQPLLogger").addAnnotations(l,{bool:{has_mi_act_mapping:p!=null}});p=p!=null?yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(p.serverThreadKey)):null;if(p!=null)if(g===!0){var q=n(f,p.threadKey);e(p,q)}else e(p)}o.subscribe(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c){b=c.operation;if(b==="delete")return;d("MAWCutoverQPLLogger").addPoint(l,"mi_act_mapping_table_updated");c=(yield d("ReQL").firstAsync(o));if(c==null)return;d("MAWCutoverQPLLogger").addPoint(l,"mi_act_mapping_table_non_null");b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(c.serverThreadKey)));if(b==null)return;d("MAWCutoverQPLLogger").addPoint(l,"thread_non_null");if(g===!0){c=n(f,b.threadKey);e(b,c)}else e(b)});return function(a,b){return c.apply(this,arguments)}}());d("MAWCutoverQPLLogger").addPoint(l,"thread_point_query_started");c("LSPlatformWaitForTaskCompletion")(a,function(a){return c("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(c("LSFactory")(a),{waJid:f})},"readwrite").then(function(){d("MAWCutoverQPLLogger").addPoint(l,"thread_point_query_succeeded"),c("promiseDone")(d("WALoggerDeferred").LOG(k(),(i||(i=d("I64"))).to_string(f))),g===!0&&c("QPLUserFlow").endSuccess(c("qpl")._(1056847893,"505"))})["catch"](function(a){d("MAWCutoverQPLLogger").endFailure(l,"TPQFailure");a="[Thread-Point-Query][OD-Cutover] LSThreadPointQueryAndRestoreMessagesWithJID finished with an error for ThreadKey: "+(i||(i=d("I64"))).to_string(f)+"\nError: "+a;c("promiseDone")(d("WALoggerDeferred").LOG(j(),a));g===!0&&c("QPLUserFlow").endFailure(c("qpl")._(1056847893,"505"),a)})});return function(b){return a.apply(this,arguments)}}())},[a])}function n(a,b){var c=d("LSThreadAttributionStore").getSource(void 0,(i||(i=d("I64"))).to_string(b));if(c.type==="MWLSEntrypoint"&&c.value!=="unknown")return c.value;c=d("LSThreadAttributionStore").getSource(void 0,i.to_string(a));if(c.type==="MWLSEntrypoint"&&c.value!=="unknown"){d("LSThreadAttributionStore").setSource((i||(i=d("I64"))).to_string(b),c.value);return c.value}return void 0}g["default"]=a}),98);
__d("useMAWTriggerOnDemandCutover",["I64","Int64Hooks","LSFactory","LSPlatformWaitForTaskCompletion","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","QPLUserFlow","WALoggerDeferred","cr:13127","gkx","promiseDone","qpl","react","useMWNavigation","useMWPThreadPointQueryOneToOneCutoverThreadThenNavigate","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[OD-Cutover] Cutover finished successfully for ThreadKey: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[OD-Cutover] Triggering cutover for ThreadKey: ",""]);m=function(){return a};return a}e=j||d("react");var n=e.useRef,o=e.useState;function a(a){var e=a.threadKey,f=a.triggerSource,g=(h||(h=c("useReStore")))(),j=b("cr:13127")(e),p=n(null);a=o(!1);var q=a[0],r=a[1],s=c("useMWNavigation")(),t=c("useMWPThreadPointQueryOneToOneCutoverThreadThenNavigate")();d("Int64Hooks").useEffectInt64(function(){var a=p.current==null||p.current!==j;a&&j&&!c("gkx")("7946")&&(p.current=j,r(!0),c("promiseDone")(d("WALoggerDeferred").LOG(m(),(i||(i=d("I64"))).to_string(e))),c("QPLUserFlow").start(c("qpl")._(1056847893,"505"),{annotations:{bool:{is_non_blocking:!1},string:{entrypoint:f}}}),f==="inbox"?t&&t({contactId:e,isOnDemandCutover:!0,navigationApi:s}):c("LSPlatformWaitForTaskCompletion")(g,function(a){return c("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(c("LSFactory")(a),{waJid:e})},"readwrite").then(function(){c("promiseDone")(d("WALoggerDeferred").LOG(l(),(i||(i=d("I64"))).to_string(e))),c("QPLUserFlow").endSuccess(c("qpl")._(1056847893,"505"))})["catch"](function(a){a="[OD-Cutover] Cutover finished with an error for ThreadKey: "+(i||(i=d("I64"))).to_string(e)+".\nError: "+a;c("promiseDone")(d("WALoggerDeferred").LOG(k(),a));c("QPLUserFlow").endFailure(c("qpl")._(1056847893,"505"),a)})["finally"](function(){r(!1)}))},[j,g,s,e,t,f]);return q}g["default"]=a}),98);
__d("useMWDeleteThreadAndMaybeNavigate",["I64","Int64Hooks","LSFactory","LSIntEnum","LSLocalOptimisticDeleteCommunityChannelStoredProcedure","LSLocalOptimisticDeleteDiscoverableChatStoredProcedure","LSMessagingThreadTypeUtil","LSOptimisticRemoveThreadStoredProcedure","LSThreadRemoveType","MWChatStateActions","MWChatStateV2.react","MessengerWebUXLogger","Promise","QPLUserFlow","Random","WebUserFlowLoggingDataContextProvider.react","mwCMIsAnyCMThread","promiseDone","qpl","react","react-compiler-runtime","useLogDeleteChannelFailed","useMWNavigateAfterLeavingGroup","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=(l||d("react")).useContext;function a(a,e){var g=d("react-compiler-runtime").c(32),l=(i||(i=c("useReStore")))(),n=c("useMWNavigateAfterLeavingGroup")(a),o=d("MWChatStateV2.react").useDispatch(),p;g[0]!==a.threadType?(p=c("mwCMIsAnyCMThread")(a.threadType),g[0]=a.threadType,g[1]=p):p=g[1];var q=p;g[2]!==a.threadType?(p=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType),g[2]=a.threadType,g[3]=p):p=g[3];var r=p,s=c("useLogDeleteChannelFailed")(a.threadKey);g[4]!==a.threadType?(p=d("LSMessagingThreadTypeUtil").isCMSubthread(a.threadType),g[4]=a.threadType,g[5]=p):p=g[5];var t=p,u=c("MessengerWebUXLogger").useInteractionLogger();p=m(d("WebUserFlowLoggingDataContextProvider.react").WebUserFlowLoggingDataContext);var v=p.loggingDataRef;g[6]!==l||g[7]!==o||g[8]!==t||g[9]!==q||g[10]!==r||g[11]!==s||g[12]!==u||g[13]!==v.current||g[14]!==n||g[15]!==e||g[16]!==a.threadKey||g[17]!==a.threadType?(p=function(){var g=c("qpl")._(25308751,"2014"),i=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(g,{annotations:{string:{action_type:"delete",thread_type:(j||(j=d("I64"))).to_string(a.threadType)}},instanceKey:i});var m=babelHelpers["extends"]({},v.current,{eventType:"backend"});c("promiseDone")(l.runInTransaction(function(b){if(q||t)return c("LSLocalOptimisticDeleteCommunityChannelStoredProcedure")(c("LSFactory")(b),{threadKey:a.threadKey});else if(r)return c("LSLocalOptimisticDeleteDiscoverableChatStoredProcedure")(c("LSFactory")(b),{threadKey:a.threadKey});else return c("LSOptimisticRemoveThreadStoredProcedure")(c("LSFactory")(b),{removeType:(k||(k=d("LSIntEnum"))).ofNumber(c("LSThreadRemoveType").DELETE_THREAD),threadKey:a.threadKey})},"readwrite",void 0,void 0,f.id+":79")["catch"](function(a){s(),u==null?void 0:u(babelHelpers["extends"]({},m,{eventName:"thread_delete_failure"})),c("QPLUserFlow").endFailure(g,a,{instanceKey:i})}).then(function(){e&&n();o(d("MWChatStateActions").closeTabByThreadKey(Date.now(),a.threadKey));u==null?void 0:u(babelHelpers["extends"]({},m,{eventName:"thread_delete_success"}));c("QPLUserFlow").endSuccess(g,{instanceKey:i});return(h||(h=b("Promise"))).resolve()}))},g[6]=l,g[7]=o,g[8]=t,g[9]=q,g[10]=r,g[11]=s,g[12]=u,g[13]=v.current,g[14]=n,g[15]=e,g[16]=a.threadKey,g[17]=a.threadType,g[18]=p):p=g[18];var w;g[19]!==l||g[20]!==o||g[21]!==t||g[22]!==q||g[23]!==r||g[24]!==s||g[25]!==u||g[26]!==v||g[27]!==n||g[28]!==e||g[29]!==a.threadKey||g[30]!==a.threadType?(w=[a.threadType,a.threadKey,v,l,q,t,r,s,u,e,o,n],g[19]=l,g[20]=o,g[21]=t,g[22]=q,g[23]=r,g[24]=s,g[25]=u,g[26]=v,g[27]=n,g[28]=e,g[29]=a.threadKey,g[30]=a.threadType,g[31]=w):w=g[31];return d("Int64Hooks").useCallbackInt64(p,w)}g["default"]=a}),98);